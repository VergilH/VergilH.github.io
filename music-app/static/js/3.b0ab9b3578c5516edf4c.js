webpackJsonp([3],{KUsv:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=s("mvHQ"),e=s.n(i),o=s("XWSH"),a=s("KgXo"),c=s("9KgU"),r={name:"recommendList",components:{loading:a.a,topbackbtn:c.a},data:function(){var t=this.$route.params.id;return this.disstid=t,console.log(t),{disstid:"",logo:"",cdList:"",songList:[],songmid:Array,isLoading:Boolean}},methods:{_getSongs:function(){var t=this;this.isLoading=!0;var n=this.$route.params.id;Object(o.b)(n).then(function(n){t.logo=n.cdlist[0].logo,t.cdList=n.cdlist[0],t.songList=n.cdlist[0].songlist,t.updataCollect(),t.isLoading=!1})},getSongMid:function(t,n){window.sessionStorage.setItem("playList",e()(this.songList));var s=t,i=n;this.$router.push({path:"/player",query:{songmid:s,index:i}})},addCollect:function(t){var n=JSON.parse(localStorage.getItem("collectList"))||[];n.push(t),window.localStorage.setItem("collectList",e()(n)),this.updataCollect()},updataCollect:function(){for(var t=[],n=JSON.parse(localStorage.getItem("collectList"))||[],s=0;s<n.length;s++)e()(this.songList).indexOf(e()(n[s]))>-1&&t.push(n[s].songmid);this.songmid=t,console.log(t)},redHeart:function(t){var n=t;return-1!==this.songmid.indexOf(n)}},created:function(){this._getSongs()},mounted:function(){},destroyed:function(){}},d={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"main"},[s("div",{staticClass:"main"},[s("span",{attrs:{id:"back-btn"},on:{click:function(n){return t.$router.back(-1)}}},[s("font-awesome-icon",{attrs:{icon:"chevron-left"}})],1),t._v(" "),s("topbackbtn"),t._v(" "),s("div",{attrs:{id:"main-top"}},[s("img",{attrs:{src:t.logo}}),t._v(" "),s("div",{attrs:{id:"list-title"}},[s("p",{attrs:{id:"title"}},[t._v(t._s(t.cdList.dissname))]),t._v(" "),s("span",{attrs:{id:"creator"}},[s("img",{attrs:{src:t.cdList.headurl}}),t._v(" "),s("p",[t._v(t._s(t.cdList.nickname))])]),t._v(" "),s("p",{attrs:{id:"desc"}},[t._v(t._s(t.cdList.desc))])])]),t._v(" "),s("ul",[s("loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),t._l(t.songList,function(n,i){return s("li",{key:n.id},[s("div",{staticClass:"index",on:{click:function(s){return t.getSongMid(n.songmid,i)}}},[t._v(t._s(i+1))]),t._v(" "),s("div",{attrs:{id:"like"},on:{click:function(s){return t.addCollect(n)}}},[t.redHeart(n.songmid)?s("span",{staticClass:"red"},[s("font-awesome-icon",{attrs:{icon:"heart"}})],1):s("span",[s("font-awesome-icon",{attrs:{icon:["far","heart"]}})],1)]),t._v(" "),s("div",{staticClass:"song-detail"},[s("p",{attrs:{id:"song-name"}},[t._v(t._s(n.songname))]),t._v(" "),t._l(n.singer,function(n){return s("p",{key:n.name},[t._v("/"+t._s(n.name))])}),t._v(" "),s("p",[t._v("- "+t._s(n.albumname))])],2)])})],2)],1)])},staticRenderFns:[]};var l=s("VU/8")(r,d,!1,function(t){s("Nhnk")},"data-v-ed048754",null);n.default=l.exports},Nhnk:function(t,n){},XWSH:function(t,n,s){"use strict";n.a=function(){var t={rnd:Math.random(),hostUin:0,format:"json",platform:"yqq",needNewCode:0,categoryId:1e7,sortId:5,sin:0,ein:29};return Object(e.a)("https://c.y.qq.com/splcloud/fcgi-bin/fcg_get_diss_by_tag.fcg",t,o.a).then(function(t){return t.data}).catch(function(t){console.log(t)})},n.b=function(t){var n={disstid:t,type:1,json:1,utf8:1,onlysong:0,platform:"yqq",hostUin:0,needNewCode:0};return Object(e.a)("https://c.y.qq.com/qzone/fcg-bin/fcg_ucc_getcdinfo_byids_cp.fcg",n,o.a).then(function(t){var n=t.data.indexOf("("),s=t.data.lastIndexOf(")"),i=JSON.parse(t.data.substring(n+1,s));return console.log(i),i})};var i=s("mtWM"),e=(s.n(i),s("nQZR")),o=s("/JYx")}});