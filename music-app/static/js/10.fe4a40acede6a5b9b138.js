webpackJsonp([10],{N6cJ:function(t,n){},dbiO:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=i("nQZR"),e={name:"player",data:function(){return{songmid:String,playUrl:String,playList:Array,name:String,singers:Array,albumImg:String,curSong:Number,curTime:Number,totalTime:Number,playing:!0,pauseing:!1,cantPlay:Boolean}},methods:{playerUrl:function(t){var n=this,i="https://u.y.qq.com/cgi-bin/musicu.fcg?format=json&data=%7B%22req_0%22%3A%7B%22module%22%3A%22vkey.GetVkeyServer%22%2C%22method%22%3A%22CgiGetVkey%22%2C%22param%22%3A%7B%22guid%22%3A%22358840384%22%2C%22songmid%22%3A%5B%22"+t+"%22%5D%2C%22songtype%22%3A%5B0%5D%2C%22uin%22%3A%221443481947%22%2C%22loginflag%22%3A1%2C%22platform%22%3A%2220%22%7D%7D%2C%22comm%22%3A%7B%22uin%22%3A%2218585073516%22%2C%22format%22%3A%22json%22%2C%22ct%22%3A24%2C%22cv%22%3A0%7D%7D";Object(s.a)(i).then(function(t){console.log(t),t.req_0.data.midurlinfo[0].purl||(n.cantPlay=!0);var i="/music/"+t.req_0.data.midurlinfo[0].purl;console.log(i),n.playUrl=i}).catch(function(t){console.log(t)})},getToken:function(){this.songmid=this.$route.query.songmid,this.playerUrl(this.songmid)},getAlbumImg:function(){var t=JSON.parse(window.sessionStorage.getItem("playList")),n=this.$route.query.index;this.curSong=n,this.playList=t,this.name=t[n].songname,this.singers=t[n].singer;var i=t[n].albummid;console.log(i);var s="https://y.gtimg.cn/music/photo_new/T002R180x180M000"+i+".jpg";console.log(s),this.albumImg=s},nextSong:function(){var t=this.curSong+1,n=this.playList;this.name=n[t].songname,this.singers=n[t].singer,this.songmid=n[t].songmid;var i="https://y.gtimg.cn/music/photo_new/T002R180x180M000"+n[t].albummid+".jpg";this.albumImg=i,this.curSong=t,this.playerUrl(this.songmid)},lastSong:function(){var t=this.curSong-1,n=this.playList;this.name=n[t].songname,this.singers=n[t].singer,this.songmid=n[t].songmid;var i="https://y.gtimg.cn/music/photo_new/T002R180x180M000"+n[t].albummid+".jpg";this.albumImg=i,this.curSong=t,this.playerUrl(this.songmid)},play:function(){var t=this.$refs.audio;this.$refs.audio.play(),console.log(t.duration),this.totalTime=t.duration,console.log(this.curTime)},pause:function(){this.$refs.audio.pause()},isPlay:function(){console.log("music playing"),this.pauseing=!0,this.playing=!1},isPause:function(){console.log("music pause"),this.playing=!0,this.pauseing=!1,this.totalTime===this.curTime&&(this.$refs.point.style.width=0)},onTimeUpdate:function(t){console.log(t.target.currentTime),this.curTime=t.target.currentTime,this.$refs.point.style.width=this.curTime/this.totalTime*100+"%"},end:function(){console.log("end"),this.$refs.point.style.width=0}},created:function(){},mounted:function(){this.getToken(),this.getAlbumImg()},watch:{$route:{handler:function(t){"player"===t.name&&(this.getToken(),this.getAlbumImg())}}},destroyed:function(){}},a={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{attrs:{id:"content"}},[i("div",{staticClass:"content-bg",style:{backgroundImage:"url("+t.albumImg+")"}}),t._v(" "),i("span",{attrs:{id:"back-btn"},on:{click:function(n){return t.$router.back(-1)}}},[i("font-awesome-icon",{attrs:{icon:["fas","chevron-left"]}})],1),t._v(" "),i("div",{staticClass:"content"},[i("p",{staticClass:"name"},[t._v(t._s(t.name))]),t._v(" "),i("p",{staticClass:"singer"},t._l(t.singers,function(n,s){return i("span",{key:n.name},[s?i("span",[t._v("/")]):t._e(),t._v(t._s(n.name))])}),0),t._v(" "),i("div",{staticClass:"circle-img"},[i("div",{staticClass:"inner-circle",style:{backgroundImage:"url("+t.albumImg+")"}})]),t._v(" "),i("div",{ref:"scroll",staticClass:"player-scroll"},[i("div",{ref:"point",staticClass:"scroll-inner"},[i("div",{attrs:{id:"scroll-point"}})])]),t._v(" "),i("div",{staticClass:"play-btn"},[i("span",{staticClass:"left",on:{click:function(n){return t.lastSong()}}},[i("font-awesome-icon",{attrs:{icon:"angle-double-left"}})],1),t._v(" "),t.playing?i("span",{staticClass:"play",on:{click:function(n){return t.play()}}},[i("font-awesome-icon",{attrs:{icon:"play"}})],1):t._e(),t._v(" "),t.pauseing?i("span",{staticClass:"pause",on:{click:function(n){return t.pause()}}},[i("font-awesome-icon",{attrs:{icon:"pause"}})],1):t._e(),t._v(" "),i("span",{staticClass:"right",on:{click:function(n){return t.nextSong()}}},[i("font-awesome-icon",{attrs:{icon:"angle-double-right"}})],1)]),t._v(" "),i("audio",{ref:"audio",attrs:{src:t.playUrl},on:{timeupdate:t.onTimeUpdate,play:t.isPlay,pause:t.isPause,onended:function(n){return t.end()}}})])])},staticRenderFns:[]};var o=i("VU/8")(e,a,!1,function(t){i("N6cJ")},"data-v-3fce5294",null);n.default=o.exports}});